{"remainingRequest":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/mazhongkai/Desktop/ebook/vue-ebook/src/utils/book.js","dependencies":[{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/src/utils/book.js","mtime":1626253765772},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWF6aG9uZ2thaS9EZXNrdG9wL2Vib29rL3Z1ZS1lYm9vay9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTQuNkBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IGdldFJlYWRUaW1lIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UnOwpleHBvcnQgdmFyIEZPTlRfU0laRV9MSVNUID0gW3sKICBmb250U2l6ZTogMTIKfSwgewogIGZvbnRTaXplOiAxNAp9LCB7CiAgZm9udFNpemU6IDE2Cn0sIHsKICBmb250U2l6ZTogMTgKfSwgewogIGZvbnRTaXplOiAyMAp9LCB7CiAgZm9udFNpemU6IDIyCn0sIHsKICBmb250U2l6ZTogMjQKfV07CmV4cG9ydCB2YXIgRk9OVF9GQU1JTFkgPSBbewogIGZvbnQ6ICdEZWZhdWx0Jwp9LCB7CiAgZm9udDogJ0NhYmluJwp9LCB7CiAgZm9udDogJ0RheXMgT25lJwp9LCB7CiAgZm9udDogJ01vbnRzZXJyYXQnCn0sIHsKICBmb250OiAnVGFuZ2VyaW5lJwp9XTsKZXhwb3J0IGZ1bmN0aW9uIHRoZW1lTGlzdCh2dWUpIHsKICByZXR1cm4gW3sKICAgIGFsaWFzOiB2dWUuJHQoJ2Jvb2sudGhlbWVEZWZhdWx0JyksCiAgICBuYW1lOiAnRGVmYXVsdCcsCiAgICBzdHlsZTogewogICAgICBib2R5OiB7CiAgICAgICAgJ2NvbG9yJzogJyM0YzUwNTknLAogICAgICAgICdiYWNrZ3JvdW5kJzogJyNjZWNlY2UnCiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBhbGlhczogdnVlLiR0KCdib29rLnRoZW1lR29sZCcpLAogICAgbmFtZTogJ0dvbGQnLAogICAgc3R5bGU6IHsKICAgICAgYm9keTogewogICAgICAgICdjb2xvcic6ICcjNWM1YjU2JywKICAgICAgICAnYmFja2dyb3VuZCc6ICcjYzZjMmI2JwogICAgICB9CiAgICB9CiAgfSwgewogICAgYWxpYXM6IHZ1ZS4kdCgnYm9vay50aGVtZUV5ZScpLAogICAgbmFtZTogJ0V5ZScsCiAgICBzdHlsZTogewogICAgICBib2R5OiB7CiAgICAgICAgJ2NvbG9yJzogJyM0MDRjNDInLAogICAgICAgICdiYWNrZ3JvdW5kJzogJyNhOWMxYTknCiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBhbGlhczogdnVlLiR0KCdib29rLnRoZW1lTmlnaHQnKSwKICAgIG5hbWU6ICdOaWdodCcsCiAgICBzdHlsZTogewogICAgICBib2R5OiB7CiAgICAgICAgJ2NvbG9yJzogJyNjZWNlY2UnLAogICAgICAgICdiYWNrZ3JvdW5kJzogJyMwMDAwMDAnCiAgICAgIH0KICAgIH0KICB9XTsKfQpleHBvcnQgZnVuY3Rpb24gYWRkQ3NzKGhyZWYpIHsKICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTsKICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTsKICBsaW5rLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpOwogIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChsaW5rKTsKfQpleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ3NzKGhyZWYpIHsKICB2YXIgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpOwoKICBmb3IgKHZhciBpID0gbGlua3MubGVuZ3RoOyBpID49IDA7IGktLSkgewogICAgdmFyIGxpbmsgPSBsaW5rc1tpXTsKCiAgICBpZiAobGluayAmJiBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpICYmIGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgPT09IGhyZWYpIHsKICAgICAgbGluay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmspOwogICAgfQogIH0KfQpleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsQ3NzKCkgewogIHJlbW92ZUNzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2RlZmF1bHQuY3NzIikpOwogIHJlbW92ZUNzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2V5ZS5jc3MiKSk7CiAgcmVtb3ZlQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZ29sZC5jc3MiKSk7CiAgcmVtb3ZlQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfbmlnaHQuY3NzIikpOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFkVGltZUJ5TWludXRlKGZpbGVOYW1lKSB7CiAgdmFyIHJlYWRUaW1lID0gZ2V0UmVhZFRpbWUoZmlsZU5hbWUpOwoKICBpZiAoIXJlYWRUaW1lKSB7CiAgICByZXR1cm4gMDsKICB9IGVsc2UgewogICAgcmV0dXJuIE1hdGguY2VpbChyZWFkVGltZSAvIDYwKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHsKICB2YXIgX3JlZjsKCiAgcmV0dXJuIChfcmVmID0gW10pLmNvbmNhdC5hcHBseShfcmVmLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJyYXkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgX3JlZjI7CgogICAgcmV0dXJuIChfcmVmMiA9IFtdKS5jb25jYXQuYXBwbHkoX3JlZjIsIFtpdGVtXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZsYXR0ZW4oaXRlbS5zdWJpdGVtcykpKSk7CiAgfSkpKTsKfQ=="},{"version":3,"sources":["/Users/mazhongkai/Desktop/ebook/vue-ebook/src/utils/book.js"],"names":["getReadTime","FONT_SIZE_LIST","fontSize","FONT_FAMILY","font","themeList","vue","alias","$t","name","style","body","addCss","href","link","document","createElement","setAttribute","getElementsByTagName","appendChild","removeCss","links","i","length","getAttribute","parentNode","removeChild","removeAllCss","process","env","VUE_APP_RES_URL","getReadTimeByMinute","fileName","readTime","Math","ceil","flatten","array","concat","map","item","subitems"],"mappings":"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","sourcesContent":["import { getReadTime } from './localStorage'\r\n\r\nexport const FONT_SIZE_LIST = [\r\n  { fontSize: 12 },\r\n  { fontSize: 14 },\r\n  { fontSize: 16 },\r\n  { fontSize: 18 },\r\n  { fontSize: 20 },\r\n  { fontSize: 22 },\r\n  { fontSize: 24 }\r\n]\r\n\r\nexport const FONT_FAMILY = [\r\n  { font: 'Default' },\r\n  { font: 'Cabin' },\r\n  { font: 'Days One' },\r\n  { font: 'Montserrat' },\r\n  { font: 'Tangerine' }\r\n]\r\n\r\nexport function themeList(vue) {\r\n  return [\r\n    {\r\n      alias: vue.$t('book.themeDefault'),\r\n      name: 'Default',\r\n      style: {\r\n        body: {\r\n          'color': '#4c5059',\r\n          'background': '#cecece'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      alias: vue.$t('book.themeGold'),\r\n      name: 'Gold',\r\n      style: {\r\n        body: {\r\n          'color': '#5c5b56',\r\n          'background': '#c6c2b6'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      alias: vue.$t('book.themeEye'),\r\n      name: 'Eye',\r\n      style: {\r\n        body: {\r\n          'color': '#404c42',\r\n          'background': '#a9c1a9'\r\n        }\r\n      }\r\n    },\r\n    {\r\n      alias: vue.$t('book.themeNight'),\r\n      name: 'Night',\r\n      style: {\r\n        body: {\r\n          'color': '#cecece',\r\n          'background': '#000000'\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\nexport function addCss(href) {\r\n  const link = document.createElement('link')\r\n  link.setAttribute('rel', 'stylesheet')\r\n  link.setAttribute('type', 'text/css')\r\n  link.setAttribute('href', href)\r\n  document.getElementsByTagName('head')[0].appendChild(link)\r\n}\r\n\r\nexport function removeCss(href) {\r\n  const links = document.getElementsByTagName('link')\r\n  for (let i = links.length; i >= 0; i--) {\r\n    const link = links[i]\r\n    if (link && link.getAttribute('href') && link.getAttribute('href') === href) {\r\n      link.parentNode.removeChild(link)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeAllCss() {\r\n  removeCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`)\r\n  removeCss(`${process.env.VUE_APP_RES_URL}/theme/theme_eye.css`)\r\n  removeCss(`${process.env.VUE_APP_RES_URL}/theme/theme_gold.css`)\r\n  removeCss(`${process.env.VUE_APP_RES_URL}/theme/theme_night.css`)\r\n}\r\n\r\nexport function getReadTimeByMinute(fileName) {\r\n  const readTime = getReadTime(fileName)\r\n  if (!readTime) {\r\n    return 0\r\n  } else {\r\n    return Math.ceil(readTime / 60)\r\n  }\r\n}\r\n\r\nexport function flatten(array) {\r\n  return [].concat(...array.map(item => [].concat(item, ...flatten(item.subitems))))\r\n}\r\n"]}]}