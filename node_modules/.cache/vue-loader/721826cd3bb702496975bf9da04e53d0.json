{"remainingRequest":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/mazhongkai/Desktop/ebook/vue-ebook/src/components/ebook/EbookLoading.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/src/components/ebook/EbookLoading.vue","mtime":1579925468000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mazhongkai/Desktop/ebook/vue-ebook/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHB4MnJlbSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbCiAgICAgICAgW3t9LCB7fSwge31dLAogICAgICAgIFt7fSwge30sIHt9XQogICAgICBdLAogICAgICBtYXNrV2lkdGg6IFsKICAgICAgICB7IHZhbHVlOiAwIH0sCiAgICAgICAgeyB2YWx1ZTogMCB9LAogICAgICAgIHsgdmFsdWU6IDAgfSwKICAgICAgICB7IHZhbHVlOiAwIH0sCiAgICAgICAgeyB2YWx1ZTogMCB9LAogICAgICAgIHsgdmFsdWU6IDAgfQogICAgICBdLAogICAgICBsaW5lV2lkdGg6IFsKICAgICAgICB7IHZhbHVlOiAxNiB9LAogICAgICAgIHsgdmFsdWU6IDE2IH0sCiAgICAgICAgeyB2YWx1ZTogMTYgfSwKICAgICAgICB7IHZhbHVlOiAxNiB9LAogICAgICAgIHsgdmFsdWU6IDE2IH0sCiAgICAgICAgeyB2YWx1ZTogMTYgfQogICAgICBdLAogICAgICBhZGQ6IHRydWUsCiAgICAgIGVuZDogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRhc2sgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMuJHJlZnMubWFzay5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLiRyZWZzLm1hc2tbaW5kZXhdCiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuJHJlZnMubGluZVtpbmRleF0KICAgICAgICBsZXQgbWFza1dpZHRoID0gdGhpcy5tYXNrV2lkdGhbaW5kZXhdCiAgICAgICAgbGV0IGxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoW2luZGV4XQogICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgaWYgKHRoaXMuYWRkICYmIG1hc2tXaWR0aC52YWx1ZSA8IDE2KSB7CiAgICAgICAgICAgIG1hc2tXaWR0aC52YWx1ZSsrCiAgICAgICAgICAgIGxpbmVXaWR0aC52YWx1ZS0tCiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmFkZCAmJiBsaW5lV2lkdGgudmFsdWUgPCAxNikgewogICAgICAgICAgICBtYXNrV2lkdGgudmFsdWUtLQogICAgICAgICAgICBsaW5lV2lkdGgudmFsdWUrKwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5hZGQgJiYgbWFza1dpZHRoLnZhbHVlIDwgMTYpIHsKICAgICAgICAgICAgbGV0IHByZU1hc2tXaWR0aCA9IHRoaXMubWFza1dpZHRoW2luZGV4IC0gMV0KICAgICAgICAgICAgaWYgKHByZU1hc2tXaWR0aC52YWx1ZSA+PSA4KSB7CiAgICAgICAgICAgICAgbWFza1dpZHRoLnZhbHVlKysKICAgICAgICAgICAgICBsaW5lV2lkdGgudmFsdWUtLQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmFkZCAmJiBsaW5lV2lkdGgudmFsdWUgPCAxNikgewogICAgICAgICAgICBsZXQgcHJlTGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGhbaW5kZXggLSAxXQogICAgICAgICAgICBpZiAocHJlTGluZVdpZHRoLnZhbHVlID49IDgpIHsKICAgICAgICAgICAgICBtYXNrV2lkdGgudmFsdWUtLQogICAgICAgICAgICAgIGxpbmVXaWR0aC52YWx1ZSsrCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWFzay5zdHlsZS53aWR0aCA9IGAke3B4MnJlbShtYXNrV2lkdGgudmFsdWUpfXJlbWAKICAgICAgICBtYXNrLnN0eWxlLmZsZXggPSBgMCAwICR7cHgycmVtKG1hc2tXaWR0aC52YWx1ZSl9cmVtYAogICAgICAgIGxpbmUuc3R5bGUud2lkdGggPSBgJHtweDJyZW0obGluZVdpZHRoLnZhbHVlKX1yZW1gCiAgICAgICAgbGluZS5zdHlsZS5mbGV4ID0gYDAgMCAke3B4MnJlbShsaW5lV2lkdGgudmFsdWUpfXJlbWAKICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMubWFza1dpZHRoLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIGlmICh0aGlzLmFkZCkgewogICAgICAgICAgICBpZiAobWFza1dpZHRoLnZhbHVlID09PSAxNikgewogICAgICAgICAgICAgIHRoaXMuZW5kID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobWFza1dpZHRoLnZhbHVlID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5lbmQgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuZW5kKSB7CiAgICAgICAgICB0aGlzLmFkZCA9ICF0aGlzLmFkZAogICAgICAgICAgdGhpcy5lbmQgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sIDIwKQogIH0KfQo="},{"version":3,"sources":["EbookLoading.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EbookLoading.vue","sourceRoot":"src/components/ebook","sourcesContent":["<template>\n  <div class=\"ebook-loading\">\n    <div class=\"ebook-loading-wrapper\">\n      <div class=\"ebook-loading-item\" v-for=\"(item, index) in data\" :key=\"index\">\n        <div class=\"ebook-loading-line-wrapper\" v-for=\"(subItem, subIndex) in item\" :key=\"subIndex\">\n          <div class=\"ebook-loading-line\" ref=\"line\"></div>\n          <div class=\"ebook-loading-mask\" ref=\"mask\"></div>\n        </div>\n      </div>\n      <div class=\"ebook-loading-center\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { px2rem } from '../../utils/utils'\n\n  export default {\n    data() {\n      return {\n        data: [\n          [{}, {}, {}],\n          [{}, {}, {}]\n        ],\n        maskWidth: [\n          { value: 0 },\n          { value: 0 },\n          { value: 0 },\n          { value: 0 },\n          { value: 0 },\n          { value: 0 }\n        ],\n        lineWidth: [\n          { value: 16 },\n          { value: 16 },\n          { value: 16 },\n          { value: 16 },\n          { value: 16 },\n          { value: 16 }\n        ],\n        add: true,\n        end: false\n      }\n    },\n    mounted() {\n      this.task = setInterval(() => {\n        this.$refs.mask.forEach((item, index) => {\n          const mask = this.$refs.mask[index]\n          const line = this.$refs.line[index]\n          let maskWidth = this.maskWidth[index]\n          let lineWidth = this.lineWidth[index]\n          if (index === 0) {\n            if (this.add && maskWidth.value < 16) {\n              maskWidth.value++\n              lineWidth.value--\n            } else if (!this.add && lineWidth.value < 16) {\n              maskWidth.value--\n              lineWidth.value++\n            }\n          } else {\n            if (this.add && maskWidth.value < 16) {\n              let preMaskWidth = this.maskWidth[index - 1]\n              if (preMaskWidth.value >= 8) {\n                maskWidth.value++\n                lineWidth.value--\n              }\n            } else if (!this.add && lineWidth.value < 16) {\n              let preLineWidth = this.lineWidth[index - 1]\n              if (preLineWidth.value >= 8) {\n                maskWidth.value--\n                lineWidth.value++\n              }\n            }\n          }\n          mask.style.width = `${px2rem(maskWidth.value)}rem`\n          mask.style.flex = `0 0 ${px2rem(maskWidth.value)}rem`\n          line.style.width = `${px2rem(lineWidth.value)}rem`\n          line.style.flex = `0 0 ${px2rem(lineWidth.value)}rem`\n          if (index === this.maskWidth.length - 1) {\n            if (this.add) {\n              if (maskWidth.value === 16) {\n                this.end = true\n              }\n            } else {\n              if (maskWidth.value === 0) {\n                this.end = true\n              }\n            }\n          }\n          if (this.end) {\n            this.add = !this.add\n            this.end = false\n          }\n        })\n      }, 20)\n    }\n  }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .ebook-loading {\n    position: relative;\n    z-index: 400;\n    width: px2rem(63);\n    height: px2rem(40);\n    background: transparent;\n    border: px2rem(1.5) solid #d7d7d7;\n    border-radius: px2rem(3);\n    .ebook-loading-wrapper {\n      display: flex;\n      width: 100%;\n      height: 100%;\n      .ebook-loading-item {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n        padding: px2rem(7) 0;\n        box-sizing: border-box;\n        .ebook-loading-line-wrapper {\n          flex: 1;\n          padding: 0 px2rem(7);\n          box-sizing: border-box;\n          @include left;\n          .ebook-loading-line {\n            flex: 0 0 px2rem(16);\n            width: px2rem(16);\n            height: px2rem(2);\n            background: #d7d7d7;\n          }\n          .ebook-loading-mask {\n            flex: 0 0 0;\n            width: 0;\n            height: px2rem(2);\n          }\n        }\n      }\n      .ebook-loading-center {\n        position: absolute;\n        left: 50%;\n        top: 0;\n        width: px2rem(1.5);\n        height: 100%;\n        background: #d7d7d7;\n      }\n    }\n  }\n</style>\n"]}]}